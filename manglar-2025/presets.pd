#N canvas 222 118 1584 827 12;
#X obj 523 185 text define state;
#X obj 142 465 text set state 0;
#X msg 144 76 volume \$1;
#X floatatom 144 54 5 0 0 0 - - - 0;
#X obj 144 101 pack s f;
#X obj 178 321 text search state;
#X floatatom 219 56 5 0 0 0 - - - 0;
#X msg 219 77 timbre \$1;
#X obj 144 125 s presets;
#X obj 142 251 r presets;
#X obj 178 277 unpack s f;
#X listbox 178 299 8 0 0 0 - - - 0;
#X floatatom 245 299 5 0 0 0 - - - 0;
#X floatatom 178 418 5 0 0 0 - - - 0;
#X obj 178 441 + 1;
#X msg 523 148 clear;
#X msg 574 149 write ./state.txt;
#X msg 704 149 read ./state.txt;
#X text 513 50 Define text file called "states" to store presets. TO DO: change this file dynamically to store different presets., f 28;
#X text 293 53 Route parameters to store as [s f] list to [send], f 17;
#X text 39 272 Receive parameter and write it to the top of the text file, f 14;
#X text 304 267 Search for existing parameter entry and return its line number in the text file, f 18;
#X obj 178 345 moses 0;
#X obj 178 369 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 179 393 text size state;
#X text 305 362 If text file is empty \, add parameter to line 1 \; else add a new line and store the parameter, f 27;
#X text 704 130 load presets;
#X text 573 127 save presets;
#X obj 659 376 r timbre;
#X floatatom 659 400 5 0 0 0 - - - 0;
#X floatatom 593 401 5 0 0 0 - - - 0;
#X obj 593 377 r volume;
#X obj 661 259 print;
#X obj 757 185 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 704 230 text sequence state;
#X msg 704 184 line 0;
#X msg 704 259 \; \$1 \$2;
#X text 781 170 output all stored values as [s f] starting from line 0, f 21;
#X text 725 370 Update parameters from stored presets. Note that changing values in top left boxes does not update these., f 22;
#X obj 704 113 loadbang;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 8 0;
#X connect 5 0 22 0;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X connect 9 0 10 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 10 1 12 0;
#X connect 11 0 5 0;
#X connect 13 0 14 0;
#X connect 14 0 1 1;
#X connect 15 0 0 0;
#X connect 16 0 0 0;
#X connect 17 0 0 0;
#X connect 17 0 35 0;
#X connect 17 0 33 0;
#X connect 22 0 23 0;
#X connect 22 1 1 1;
#X connect 23 0 24 0;
#X connect 24 0 13 0;
#X connect 28 0 29 0;
#X connect 31 0 30 0;
#X connect 33 0 34 0;
#X connect 34 0 32 0;
#X connect 34 0 36 0;
#X connect 35 0 34 0;
#X connect 39 0 17 0;
